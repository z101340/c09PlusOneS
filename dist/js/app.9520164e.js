(function(t){function r(r){for(var e,s,u=r[0],c=r[1],a=r[2],h=0,f=[];h<u.length;h++)s=u[h],o[s]&&f.push(o[s][0]),o[s]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(r);while(f.length)f.shift()();return i.push.apply(i,a||[]),n()}function n(){for(var t,r=0;r<i.length;r++){for(var n=i[r],e=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(e=!1)}e&&(i.splice(r--,1),t=s(s.s=n[0]))}return t}var e={},o={app:0},i=[];function s(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,r,n){s.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,r){if(1&r&&(t=s(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var e in t)s.d(n,e,function(r){return t[r]}.bind(null,e));return n},s.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(r,"a",r),r},s.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=r,u=u.slice();for(var a=0;a<u.length;a++)r(u[a]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,r,n){t.exports=n("56d7")},"034f":function(t,r,n){"use strict";var e=n("64a9"),o=n.n(e);o.a},"339e":function(t,r,n){},"56d7":function(t,r,n){"use strict";n.r(r);n("cadf"),n("551c"),n("f751"),n("097d");var e=n("2b0e"),o=function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{attrs:{id:"app"}},[n("Board")],1)},i=[],s=function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",[n("Matrix",{attrs:{matrix:t.blendedMatrix}}),t._v("\n    Next:\n    "),n("NextTetromino",{attrs:{tetromino:t.nextTetromino}})],1)},u=[],c=n("f499"),a=n.n(c),l=function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"grid-container"},t._l(t.matrix,function(r){return n("div",{staticClass:"row"},t._l(r,function(r){return n("div",{staticClass:"cell",class:{black:r}},[t._v("\n            "+t._s(r)+"\n        ")])}),0)}),0)},h=[],f={props:["matrix"]},m=f,p=(n("fb01"),n("2877")),d=Object(p["a"])(m,l,h,!1,null,"9b8bd150",null),T=d.exports,v=function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"grid-container"},t._l(t.tetromino,function(r){return n("div",{staticClass:"row"},t._l(r,function(r){return n("div",{staticClass:"cell"},[t._v("\n            "+t._s(r)+"\n        ")])}),0)}),0)},b=[],x={name:"nextTetromono",props:["tetromino"]},g=x,w=(n("6edb"),Object(p["a"])(g,v,b,!1,null,"0f80efc6",null)),_=w.exports,O=n("5118"),y={name:"board",components:{Matrix:T,NextTetromino:_},data:function(){return{WIDTH:10,HEIGHT:20,TETROMINOS:[[[1,1,1,1]],[[1,1],[1,1]],[[1,0],[1,0],[1,1]],[[1,0],[1,1],[0,1]],[[1,1,1],[0,1,0]]],matrix:[],currentTetromino:[],nextTetromino:[],currentTetrominoX:0,currentTetrominoY:0}},methods:{initMatrixAndTetrominos:function(){for(var t=0;t<this.HEIGHT;t++){this.matrix.push([]);for(var r=0;r<this.WIDTH;r++)this.matrix[t].push(0)}this.getNextTetromino(),this.getNextTetromino()},getNextTetromino:function(){this.matrix=this.blendedMatrix,this.currentTetromino=this.nextTetromino,this.nextTetromino=this.TETROMINOS[Math.floor(Math.random()*this.TETROMINOS.length)],this.currentTetrominoX=0,this.currentTetrominoY=0},softDrop:function(){var t=this;Object(O["setTimeout"])(function(){t.softDrop(),t.moveDown()},1e3)},moveLeft:function(){this.currentTetrominoY>0&&this.currentTetrominoY--},moveRight:function(){this.currentTetrominoY<this.WIDTH&&this.currentTetrominoY++},moveDown:function(){this.isCollisionDown?this.getNextTetromino():this.currentTetrominoX++},moveSharpDown:function(){while(!this.isCollisionDown)this.moveDown();this.getNextTetromino()},rotate:function(){for(var t=[],r=0;r<this.currentTetromino[0].length;r++)for(var n=this.currentTetromino.length-1;n>=0;n--)n==this.currentTetromino.length-1&&t.push([]),t[t.length-1].push(this.currentTetromino[n][r]);this.currentTetromino=t},bindKeys:function(){var t=this;document.addEventListener("keydown",function(r){switch(r.key){case"ArrowLeft":t.moveLeft();break;case"ArrowRight":t.moveRight();break;case"ArrowDown":t.moveDown();break;case"ArrowUp":t.rotate();break;case" ":t.moveSharpDown();break}})}},computed:{blendedMatrix:function(){for(var t=JSON.parse(a()(this.matrix)),r=0;r<this.currentTetromino.length;r++)for(var n=0;n<this.currentTetromino[0].length;n++)t[this.currentTetrominoX+r][this.currentTetrominoY+n]=this.currentTetromino[r][n]+this.matrix[this.currentTetrominoX+r][this.currentTetrominoY+n];return t},isCollisionDown:function(){for(var t=0;t<this.currentTetromino.length;t++)for(var r=0;r<this.currentTetromino[0].length;r++){if(t+this.currentTetrominoX+1==this.HEIGHT)return!0;if(1==this.currentTetromino[t][r]&&(t==this.currentTetromino.length-1||0==this.currentTetromino[t+1][r])&&this.matrix[this.currentTetrominoX+t+1][this.currentTetrominoY+r]>=1)return!0}return!1}},created:function(){this.initMatrixAndTetrominos(),this.softDrop(),this.bindKeys()}},D=y,M=Object(p["a"])(D,s,u,!1,null,null,null),j=M.exports,N={name:"app",components:{Board:j}},k=N,E=(n("034f"),Object(p["a"])(k,o,i,!1,null,null,null)),S=E.exports;e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(S)}}).$mount("#app")},"64a9":function(t,r,n){},"6edb":function(t,r,n){"use strict";var e=n("339e"),o=n.n(e);o.a},"91e4":function(t,r,n){},fb01:function(t,r,n){"use strict";var e=n("91e4"),o=n.n(e);o.a}});
//# sourceMappingURL=app.9520164e.js.map